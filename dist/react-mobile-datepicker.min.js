!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):e.reactMobileDatePicker=t(e.React,e.ReactDOM)}(this,function(e,t){"use strict";function n(e,t){if("undefined"==typeof document)return t;e=e||"";var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");return r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)),n.appendChild(r),t}function r(e){if("[object Date]"!==Object.prototype.toString.call(e,null))throw new Error("参数类型不对")}function a(e,t){return new Date(e,t+1,0).getDate()}function o(e,t){var n=t,r={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};/(Y+)/.test(t)&&(n=n.replace(RegExp.$1,e.getFullYear().toString().substr(4-RegExp.$1.length)));for(var a in r)new RegExp("("+a+")").test(t)&&(n=n.replace(RegExp.$1,1===RegExp.$1.length?r[a]:("00"+r[a]).substr(r[a].toString().length)));return n}function i(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];r(e);var n=new Date(e.getFullYear()+t,e.getMonth(),e.getDate());return n}function d(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];r(e);var n=e.getFullYear(),o=e.getMonth()+t,i=Math.min(e.getDate(),a(n,o)),d=new Date(n,o,i);return d}function c(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];r(e);var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t);return n}function p(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);return n===r&&n.every(function(e){return n.hasOwnProperty(e)&&n[e]===r[e]})}function s(e){e.prototype.shouldComponentUpdate=function(e,t){return s.shouldComponentUpdate(e,t,this.props,this.state)}}function l(e){function t(e){e.target===e.currentTarget&&r.onCancel()}var n=e.isOpen,r=w(e,["isOpen"]);return h.createElement("div",{style:{display:n?"":"none"},onClick:t,className:"datepicker-modal"},h.createElement(Y,r))}function u(e){return h.createElement(N,e,h.createElement(l,null))}var h="default"in e?e.default:e;t="default"in t?t.default:t,n(".datepicker-modal {\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0,0,0,.6);\n    z-index: 999;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n\n.datepicker {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 1;\n    height: 266px;\n    font-size: 16px;\n    text-align: center;\n    font-family: arial,verdana,sans-serif;\n    box-sizing: content-box;\n    -webkit-font-smoothing: antialiased;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n.datepicker .datepicker-header {\n    padding: 0 .5em;\n    min-height: 2em;\n    line-height: 2em;\n    font-size: 1.125em;\n    display: none;\n}\n\n.datepicker .datepicker-navbar {\n    padding: 0 .5em .5em .5em;\n    overflow: hidden;\n}\n\n.datepicker .datepicker-navbar-btn {\n    height: 2.5em;\n    line-height: 2.5em;\n    float: right;\n    padding: 0 1em;\n    cursor: pointer;\n}\n\n.datepicker .datepicker-content {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    padding: .5em .25em;\n}\n\n.datepicker .datepicker-col-1 {\n    -webkit-box-flex: 1;\n    -ms-flex: 1;\n    flex: 1;\n    margin: 0 .25em;\n}\n\n.datepicker .datepicker-viewport {\n    height: 200px;\n    position: relative;\n    overflow: hidden\n}\n\n.datepicker .datepicker-viewport::after {\n    content: '';\n    position: absolute;\n    z-index: 2;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n}\n\n.datepicker .datepicker-wheel {\n    position: absolute;\n    height: 40px;\n    top: 50%;\n    margin-top: -20px;\n    width: 100%;\n}\n\n.datepicker .datepicker-scroll {\n    list-style-type: none\n}\n\n.datepicker .datepicker-scroll>li {\n    height: 40px;\n    line-height: 40px;\n    font-size: 1.375em;\n    cursor: pointer;\n}\n\n.datepicker {\n\n    /* default */\n\n    /* dark */\n\n    /* ios */\n\n\n    /* android */\n\n    /* android-dark */\n}\n\n.datepicker.default {\n    background-color: #f7f7f7;\n}\n\n.datepicker.default .datepicker-wheel {\n    border-top: 1px solid #4eccc4;\n    border-bottom: 1px solid #4eccc4;\n}\n\n.datepicker.default .datepicker-scroll li {\n    color: rgb(59, 59, 59);\n}\n\n.datepicker.default .datepicker-scroll li.disabled {\n    color: rgb(191, 191, 191);\n}\n\n.datepicker.default .datepicker-navbar-btn {\n    color: #4eccc4;\n}\n\n.datepicker.dark {\n    background-color: #263238;\n}\n\n.datepicker.dark .datepicker-wheel {\n    border-top: 1px solid #50ccc4;\n    border-bottom: 1px solid #50ccc4;\n}\n\n.datepicker.dark .datepicker-scroll li {\n    color: rgb(201, 203, 204);\n}\n\n.datepicker.dark .datepicker-scroll li.disabled {\n    color: rgb(87, 96, 100);\n}\n\n.datepicker.dark .datepicker-navbar-btn {\n    color: #50ccc4;\n}\n\n.datepicker.ios {\n    background-color: #f7f7f7;\n}\n\n.datepicker.ios .datepicker-col-1 {\n    margin: 0;\n}\n\n.datepicker.ios .datepicker-viewport {}\n\n.datepicker.ios .datepicker-viewport::after {\n    background: -webkit-linear-gradient(#f7f7f7,rgba(245,245,245,0)52%,rgba(245,245,245,0)48%,#f7f7f7);\n    background: linear-gradient(#f7f7f7,rgba(245,245,245,0)52%,rgba(245,245,245,0)48%,#f7f7f7);\n}\n\n.datepicker.ios .datepicker-wheel {\n    border-top: 1px solid #dbdbdb;\n    border-bottom: 1px solid #dbdbdb;\n}\n\n.datepicker.ios .datepicker-scroll li {\n    color: rgb(59, 59, 59);\n}\n\n.datepicker.ios .datepicker-scroll li.disabled {\n    color: rgb(191, 191, 191);\n}\n\n.datepicker.ios .datepicker-navbar {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    padding: 0;\n    border-bottom: 1px solid #acacac;\n}\n\n.datepicker.ios .datepicker-navbar-btn {\n    color: #007aff;\n}\n\n.datepicker.ios .datepicker-navbar-btn:nth-child(2) {\n    float: left;\n}\n\n.datepicker.ios .datepicker-content {\n    padding-top: 48px;\n}\n\n.datepicker.android, .datepicker.android-dark {\n    height: 294px;\n    background-color: #f5f5f5;\n}\n\n.datepicker.android .datepicker-header, .datepicker.android-dark .datepicker-header {\n    color: #31b6e7;\n    border-bottom: 2px solid #31b6e7;\n    display: block;\n}\n\n.datepicker.android .datepicker-col-1, .datepicker.android-dark .datepicker-col-1 {\n    margin: 0 .625em;\n}\n\n.datepicker.android .datepicker-viewport, .datepicker.android-dark .datepicker-viewport {}\n\n.datepicker.android .datepicker-viewport::after, .datepicker.android-dark .datepicker-viewport::after {\n    background-image: -webkit-linear-gradient(#f5f5f5,rgba(245,245,245,0)52%,rgba(245,245,245,0)48%,#f5f5f5);\n    background-image: linear-gradient(#f5f5f5,rgba(245,245,245,0)52%,rgba(245,245,245,0)48%,#f5f5f5);\n}\n\n.datepicker.android .datepicker-wheel, .datepicker.android-dark .datepicker-wheel {\n    border-top: 2px solid #31b6e7;\n    border-bottom: 2px solid #31b6e7;\n}\n\n.datepicker.android .datepicker-scroll li, .datepicker.android-dark .datepicker-scroll li {\n    font-size: 1.125em;\n    color: rgb(56, 56, 56);\n}\n\n.datepicker.android .datepicker-scroll li.disabled, .datepicker.android-dark .datepicker-scroll li.disabled {\n    color: rgb(188, 188, 188);\n}\n\n.datepicker.android .datepicker-navbar, .datepicker.android-dark .datepicker-navbar {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    border-top: 1px solid #d9d4d4;\n    padding: 0;\n}\n\n.datepicker.android .datepicker-navbar-btn, .datepicker.android-dark .datepicker-navbar-btn {\n    padding: 0;\n    color: #000;\n    -webkit-box-flex: 1;\n    -ms-flex: 1;\n    flex: 1;\n}\n\n.datepicker.android .datepicker-navbar-btn:nth-child(2), .datepicker.android-dark .datepicker-navbar-btn:nth-child(2) {\n    border-left: 1px solid #d9d4d4;\n}\n\n.datepicker.android-dark {\n    background-color: #292829;\n}\n\n.datepicker.android-dark .datepicker-viewport {}\n\n.datepicker.android-dark .datepicker-viewport::after {\n    background-image: -webkit-linear-gradient(#282828,rgba(40,40,40,0)52%,rgba(40,40,40,0)48%,#282828);\n    background-image: linear-gradient(#282828,rgba(40,40,40,0)52%,rgba(40,40,40,0)48%,#282828);\n}\n\n.datepicker.android-dark .datepicker-scroll li {\n    color: rgb(199, 199, 199);\n}\n\n.datepicker.android-dark .datepicker-scroll li.disabled {\n    color: rgb(88, 88, 88);\n}\n\n.datepicker.android-dark .datepicker-navbar {\n    border-color: #424542;\n}\n\n.datepicker.android-dark .datepicker-navbar-btn {\n    color: #fff;\n}\n\n.datepicker.android-dark .datepicker-navbar-btn:nth-child(2) {\n    border-color: #424542;\n}\n",void 0);var m=Object.freeze({convertDate:o,nextYear:i,nextMonth:d,nextDate:c});s.shouldComponentUpdate=function(e,t,n,r){return!p(n,e)||!p(r,t)};var f=null,k=null,b=null;"string"==typeof document.body.style.transition?(f="transition",k="transitionend",b="transition"):"string"==typeof document.body.style.webkitTransition&&(f="WebkitTransition",b="-webkit-transition",k="webkitTransitionEnd");var g=null,v=null;"string"==typeof document.body.style.transform?(g="transform",v="transform"):"string"==typeof document.body.style.webkitTransform&&(g="WebkitTransform",v="-webkit-transform");var y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},w=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},C=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},D=40,M=10,E=Math.floor(M/2),P=-D*E,S=function(e){function t(n){y(this,t);var r=C(this,e.call(this,n));return r.animating=!1,r.touchY=0,r.translateY=0,r.currentIndex=E,r.state={translateY:P,marginTop:(r.currentIndex-E)*D},r.renderDatepickerItem=r.renderDatepickerItem.bind(r),r.handleContentTouch=r.handleContentTouch.bind(r),r.handleContentMouseDown=r.handleContentMouseDown.bind(r),r.handleContentMouseMove=r.handleContentMouseMove.bind(r),r.handleContentMouseUp=r.handleContentMouseUp.bind(r),r}return T(t,e),t.prototype.componentWillMount=function(){this._iniDates(this.props.value)},t.prototype.componentWillReceiveProps=function(e){e.value.getTime()!==this.props.value.getTime()&&(this._iniDates(e.value),this.currentIndex=E,this.setState({translateY:P,marginTop:(this.currentIndex-E)*D}))},t.prototype.shouldComponentUpdate=function(e,t){return e.value.getTime()!==this.props.value.getTime()||!p(t,this.state)},t.prototype._iniDates=function(e){var t=this.props.typeName,n=Array.apply(void 0,Array(M)).map(function(n,r){return m["next"+t](e,r-E)});this.setState({dates:n})},t.prototype._updateDates=function(e){var t=this.props.typeName,n=this.state.dates;1===e?(this.currentIndex++,this.setState({dates:[].concat(n.slice(1),[m["next"+t](n[n.length-1],1)]),marginTop:(this.currentIndex-E)*D})):(this.currentIndex--,this.setState({dates:[m["next"+t](n[0],-1)].concat(n.slice(0,n.length-1)),marginTop:(this.currentIndex-E)*D}))},t.prototype._checkIsUpdateDates=function(e,t){return 1===e?this.currentIndex*D+D/2<-t:this.currentIndex*D-D/2>-t},t.prototype._clearTransition=function(e){e.style[f]=""},t.prototype._moveToNext=function(e){var t=this.state.dates[E],n=this.props,r=n.max,a=n.min;e===-1&&t.getTime()<a.getTime()?this._updateDates(1):1===e&&t.getTime()>r.getTime()&&this._updateDates(-1),this._moveTo(this.refs.scroll,this.currentIndex)},t.prototype._moveTo=function(e,t){var n=this;this.animating=!0,e.style[f]=v+" .2s ease-out",this.setState({translateY:-t*D}),setTimeout(function(){n.animating=!1,n.props.onSelect(n.state.dates[E]),n._clearTransition(n.refs.scroll)},200)},t.prototype.handleStart=function(e){this.touchY=e.pageY||e.targetTouches[0].pageY,this.translateY=this.state.translateY},t.prototype.handleMove=function(e){var t=e.pageY||e.targetTouches[0].pageY,n=t-this.touchY,r=this.translateY+n,a=n>0?-1:1,o=this.state.dates[E],i=this.props,d=i.max,c=i.min;o.getTime()<c.getTime()||o.getTime()>d.getTime()||(this._checkIsUpdateDates(a,r)&&this._updateDates(a),this.setState({translateY:r}))},t.prototype.handleEnd=function(e){var t=e.pageY||e.changedTouches[0].pageY,n=t-this.touchY,r=n>0?-1:1;this._moveToNext(r)},t.prototype.handleContentTouch=function(e){e.preventDefault(),this.animating||("touchstart"===e.type?this.handleStart(e):"touchmove"===e.type?this.handleMove(e):"touchend"===e.type&&this.handleEnd(e))},t.prototype.handleContentMouseDown=function(e){this.animating||(this.handleStart(e),document.addEventListener("mousemove",this.handleContentMouseMove),document.addEventListener("mouseup",this.handleContentMouseUp))},t.prototype.handleContentMouseMove=function(e){this.animating||this.handleMove(e)},t.prototype.handleContentMouseUp=function(e){this.animating||(this.handleEnd(e),document.removeEventListener("mousemove",this.handleContentMouseMove),document.removeEventListener("mouseup",this.handleContentMouseUp))},t.prototype.renderDatepickerItem=function(e,t){var n=e<this.props.min||e>this.props.max?"disabled":"";return h.createElement("li",{key:t,className:n},o(e,this.props.format))},t.prototype.render=function(){var e,t=(e={},e[g]="translateY("+this.state.translateY+"px)",e.marginTop=this.state.marginTop,e);return h.createElement("div",{className:"datepicker-col-1"},h.createElement("div",{className:"datepicker-viewport",onTouchStart:this.handleContentTouch,onTouchMove:this.handleContentTouch,onTouchEnd:this.handleContentTouch,onMouseDown:this.handleContentMouseDown},h.createElement("div",{className:"datepicker-wheel"},h.createElement("ul",{ref:"scroll",className:"datepicker-scroll",style:t},this.state.dates.map(this.renderDatepickerItem)))))},t}(e.Component);S.propTypes={value:e.PropTypes.object,min:e.PropTypes.object,max:e.PropTypes.object,format:e.PropTypes.string,typeName:e.PropTypes.string,onSelect:e.PropTypes.func};var Y=function(e){function t(n){y(this,t);var r=C(this,e.call(this,n));return r.state={value:c(r.props.value)},r.handleFinishBtnClick=r.handleFinishBtnClick.bind(r),r.handleDateSelect=r.handleDateSelect.bind(r),r}return T(t,e),t.prototype.componentWillReceiveProps=function(e){var t=c(e.value);t.getTime()!==this.state.value.getTime()&&this.setState({value:t})},t.prototype.shouldComponentUpdate=function(e,t){var n=c(t.value);return n.getTime()!==this.state.value.getTime()||s.shouldComponentUpdate(e,t,this.props,this.state)},t.prototype.handleFinishBtnClick=function(){this.props.onSelect(this.state.value)},t.prototype.handleDateSelect=function(e){this.setState({value:e})},t.prototype.render=function(){var e=this.props,t=e.min,n=e.max,r=e.theme,a=e.dateFormat,i=this.state.value,d=["default","dark","ios","android","android-dark"].indexOf(r)===-1?"default":r;return h.createElement("div",{className:"datepicker "+d},h.createElement("div",{className:"datepicker-header"},o(i,"YYYY/MM/DD")),h.createElement("div",{className:"datepicker-content"},h.createElement(S,{value:i,min:t,max:n,typeName:"Year",format:a[0],onSelect:this.handleDateSelect}),h.createElement(S,{value:i,min:t,max:n,typeName:"Month",format:a[1],onSelect:this.handleDateSelect}),h.createElement(S,{value:i,min:t,max:n,typeName:"Date",format:a[2],onSelect:this.handleDateSelect})),h.createElement("div",{className:"datepicker-navbar"},h.createElement("a",{className:"datepicker-navbar-btn",onClick:this.handleFinishBtnClick},"完成"),h.createElement("a",{className:"datepicker-navbar-btn",onClick:this.props.onCancel},"取消")))},t}(e.Component);Y.propTypes={theme:e.PropTypes.string,value:e.PropTypes.object,min:e.PropTypes.object,max:e.PropTypes.object,dateFormat:e.PropTypes.array,onSelect:e.PropTypes.func,onCancel:e.PropTypes.func};var _=t.unstable_renderSubtreeIntoContainer,N=function(e){function n(){return y(this,n),C(this,e.apply(this,arguments))}return T(n,e),n.prototype.componentDidMount=function(){this._div=document.createElement("div"),this._div.classList.add("Modal-Portal"),document.body.appendChild(this._div),this.renderPortal(this.props)},n.prototype.componentWillReceiveProps=function(e){this.renderPortal(e)},n.prototype.componentWillUnmount=function(){t.unmountComponentAtNode(this._div),this._div.parentNode.removeChild(this._div)},n.prototype.renderPortal=function(e){var t=h.cloneElement(this.props.children,x({},e,{key:"portal"}),null);this.portal=_(this,t,this._div)},n.prototype.render=function(){return h.createElement("noscript",null)},n}(e.Component);return N.propTypes={children:e.PropTypes.node,isOpen:e.PropTypes.bool},N.defaultProps={isOpen:!1},u.propTypes={isOpen:e.PropTypes.bool,theme:e.PropTypes.string,value:e.PropTypes.object,min:e.PropTypes.object,max:e.PropTypes.object,dateFormat:e.PropTypes.array,onSelect:e.PropTypes.func,onCancel:e.PropTypes.func},u.defaultProps={isOpen:!1,theme:"default",value:new Date,min:new Date(1970,0,1),max:new Date(2050,0,1),dateFormat:["YYYY","M","D"],onSelect:function(){},onCancel:function(){}},u});
//# sourceMappingURL=react-mobile-datepicker.min.js.map